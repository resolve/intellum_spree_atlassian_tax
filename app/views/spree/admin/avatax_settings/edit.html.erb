<h1><%= Spree.t('spree_avatax_official.settings') %></h1>

<%= form_tag(admin_avatax_settings_path, method: :put, id: :avatax_settings_form) do %>

  <div class="yui-g">
    <div class="yui-u first">
      <fieldset>
        <legend><%= Spree.t('spree_avatax_official.enabled') %></legend>
        <div class="checkbox">
          <label>
            <%= hidden_field_tag('enabled', false) %>
            <%= check_box_tag('enabled', true, SpreeAvataxOfficial::Config.enabled) %>
            <%= Spree.t('spree_avatax_official.enabled') %>
          </label>
        </div>
      </fieldset>

      <fieldset>
        <legend><%= Spree.t('spree_avatax_official.avatax_credentials') %></legend>
        <p>
          <label><%= Spree.t('spree_avatax_official.account_number') %></label><br />
          <%= text_field_tag('account_number', SpreeAvataxOfficial::Config.account_number, size: 46, maxlength: 256, class: 'form-control') %>
        </p>
        <p>
          <label><%= Spree.t('spree_avatax_official.license_key') %></label><br />
          <%= text_field_tag('license_key', SpreeAvataxOfficial::Config.license_key, size: 46, maxlength: 256, class: 'form-control') %>
        </p>
      </fieldset>

      <fieldset>
        <legend><%= Spree.t('spree_avatax_official.endpoint_urls') %></legend>
        <p>
          <label><%= Spree.t('spree_avatax_official.endpoint') %></label><br />
          <%= text_field_tag('endpoint', SpreeAvataxOfficial::Config.endpoint, size: 46, maxlength: 256, class: 'form-control') %>
        </p>
      </fieldset>

      <fieldset>
        <legend><%= Spree.t('spree_avatax_official.commit_transaction_enabled') %></legend>
        <div class="checkbox">
          <label>
            <%= hidden_field_tag('commit_transaction_enabled', false) %>
            <%= check_box_tag('commit_transaction_enabled', true, SpreeAvataxOfficial::Config.commit_transaction_enabled) %>
            <%= Spree.t('spree_avatax_official.commit_transaction_enabled') %>
          </label>
        </div>
      </fieldset>

      <fieldset>
        <legend><%= Spree.t('spree_avatax_official.address_validation') %></legend>
        <div class="checkbox">
          <label>
            <%= hidden_field_tag('address_validation_enabled', false) %>
            <%= check_box_tag('address_validation_enabled', true, SpreeAvataxOfficial::Config.address_validation_enabled) %>
            <%= Spree.t('spree_avatax_official.enable_address_validation') %>
          </label>
        </p>
      </fieldset>
    </div>
  </div>

  <p class="form-buttons"><%= button Spree.t('spree_avatax_official.save_preferences') %></p>
  <p class="form-buttons"><%=link_to Spree.t('spree_avatax_official.ping_avatax'), :admin_avatax_ping, method: :post, class: 'btn btn-primary' %></p>
<% end %>
